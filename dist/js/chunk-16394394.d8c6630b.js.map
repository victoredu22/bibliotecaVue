{"version":3,"sources":["webpack:///./src/assets/biblioteca.jpg","webpack:///./src/views/Login.vue?a8ca","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?09c2","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?8b77"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","style","staticStyle","on","$event","preventDefault","envioForm","_v","_e","directives","name","rawName","value","expression","domProps","validationRut","target","composing","rut","password","staticRenderFns","token","router","component"],"mappings":"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","file":"js/chunk-16394394.d8c6630b.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/biblioteca.cb29ca05.jpg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"h-100 no-gutters row\"},[_c('div',{staticClass:\"d-lg-flex d-xs-none col-md-7 col-lg-8\"},[_c('div',{staticClass:\"slider-light w-100\"},[_c('div',{staticClass:\"slick-slider slick-initialized h-100\"},[_c('div',{staticClass:\"h-100\"},[_c('div',{staticClass:\"position-relative h-100 d-flex justify-content-center align-items-center bg-premium-dark\",attrs:{\"tabindex\":\"-1\"}},[_c('div',{staticClass:\"slide-img-bg\",style:({'background-image': 'url(' + require('@/assets/biblioteca.jpg') + ')'})})])])])])]),_c('div',{staticClass:\"h-100 d-md-flex d-sm-block bg-white justify-content-center align-items-center col-md-5 col-lg-4\",staticStyle:{\"min-height\":\"100vh\"}},[_c('div',{staticClass:\"mx-auto app-login-box col-md-10\"},[_c('form',{staticClass:\"form-horizontal\",attrs:{\"autocomplete\":\"off\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.envioForm()}}},[_c('h2',{staticStyle:{\"font-family\":\"sans-serif\",\"margin-top\":\"10%\"},attrs:{\"align\":\"center\"}},[_vm._v(\"Administrador Biblioteca\")]),_c('div',{staticClass:\"form-group \"},[_c('p',{staticStyle:{\"margin-top\":\"10%\"}},[_vm._v(\"Ingresa tu rut asociado a un administrador \")]),(_vm.msgError)?_c('p',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"Los datos no coinciden en el sistema \"),_c('i',{staticClass:\"far fa-frown\"})]):_vm._e()]),_c('div',{staticClass:\"form-group \"},[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"Rut\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.rut),expression:\"rut\"},{name:\"rut\",rawName:\"v-rut\"}],staticClass:\"form-control inputRut\",attrs:{\"type\":\"text\",\"placeholder\":\"Ej: 17708532-6\"},domProps:{\"value\":(_vm.rut)},on:{\"keyup\":function($event){return _vm.validationRut()},\"input\":function($event){if($event.target.composing){ return; }_vm.rut=$event.target.value}}}),(_vm.rutInValido)?_c('p',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"Rut Invalido\")]):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"Contraseña\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],staticClass:\"form-control\",attrs:{\"type\":\"password\",\"placeholder\":\"Ej: 123456\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}})]),_c('div',{staticClass:\"form-group d-flex flex-row justify-content-center\"},[(_vm.rutInValido)?_c('button',{staticClass:\"btn btn-primary\",staticStyle:{\"width\":\"100%\"},attrs:{\"disabled\":\"\"}},[_vm._v(\"Iniciar Sesion\")]):_c('button',{staticClass:\"btn btn-primary\",staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"submit\"}},[_vm._v(\"Iniciar Sesion\")])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"h-100 no-gutters row\">\r\n\t\t<div class=\"d-lg-flex d-xs-none col-md-7 col-lg-8\">\r\n\t\t\t<div class=\"slider-light w-100\">\r\n\t\t\t\t<div class=\"slick-slider slick-initialized h-100\">\r\n\t\t\t\t\t<div class=\"h-100\">\r\n\t\t\t\t\t\t<div class=\"position-relative h-100 d-flex justify-content-center align-items-center bg-premium-dark\" tabindex=\"-1\">\r\n\t\t\t\t\t\t\t<div class=\"slide-img-bg\" :style=\"{'background-image': 'url(' + require('@/assets/biblioteca.jpg') + ')'}\" ></div>\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"h-100 d-md-flex d-sm-block bg-white justify-content-center align-items-center col-md-5 col-lg-4\" style=\"min-height: 100vh\">\r\n\t\t\t<div class=\"mx-auto app-login-box col-md-10\">             \r\n\t\t\t\t<form @submit.prevent=\"envioForm()\" autocomplete=\"off\" class=\"form-horizontal\" >\r\n\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<h2 align=\"center\" style=\"font-family: sans-serif;margin-top:10%\">Administrador Biblioteca</h2>\r\n\t\t\t\t\t\t<div class=\"form-group \">\r\n\t\t\t\t\t\t\t<p style=\"margin-top:10%\">Ingresa tu rut asociado a un administrador </p>\r\n\t\t\t\t\t\t\t<p v-if=\"msgError\" style=\"color:red\">Los datos no coinciden en el sistema <i class=\"far fa-frown\"></i></p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"form-group \">\r\n\t\t\t\t\t\t\t<label for=\"\">Rut</label>\r\n\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<input v-on:keyup=\"validationRut()\" type=\"text\" class=\"form-control inputRut\" v-model=\"rut\"  placeholder=\"Ej: 17708532-6\" v-rut >\r\n\t\t\t\t\t\t\t<p v-if=\"rutInValido\" style=\"color:red\">Rut Invalido</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t\t\t\t<label for=\"\" >Contraseña</label>\r\n\t\t\t\t\t\t\t<input type=\"password\" placeholder=\"Ej: 123456\" class=\"form-control\" v-model=\"password\">\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"form-group d-flex flex-row justify-content-center\">\r\n\t\t\t\t\t\t\t<button v-if=\"rutInValido\" class=\"btn btn-primary\" style=\"width:100%\" disabled>Iniciar Sesion</button>\r\n\t\t\t\t\t\t\t<button v-else class=\"btn btn-primary\" type=\"submit\" style=\"width:100%\">Iniciar Sesion</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport {mapActions,mapState} from \"vuex\";\r\nimport router from '../router'\r\nimport img from '../assets/biblioteca.jpg'\r\n\r\n\r\nexport default {\r\n\r\n    data(){\r\n      return{\r\n        mensaje: '',\r\n\t\t\t  rut:'',\r\n\t\t\t  rutFormateado:'',\r\n\t\t\t  rutInValido:false,\r\n\t\t\t  rutSimple:'',\r\n\t\t\t  password:'',\r\n\t\t\t  rutLimpio:'',\r\n\t\t\t  msgError:false,\r\n\t\t\t\tshowBottom: false,\r\n\t\t\t\timg:''\r\n      }\r\n\t},\r\n\t\r\n    methods:{\r\n\t\t...mapActions(['setAccessToken']),\r\n\t\tmakeToast(variant = null,error) {\r\n\t\t\tthis.$bvToast.toast(error, {\r\n\t\t\t\ttitle: 'Error Encontrado',\r\n\t\t\t\tvariant: variant,\r\n\t\t\t\tsolid: true\r\n\t\t\t})\r\n\t\t},\r\n\t\tenvioSinApi(){\r\n\t\t\trouter.push({name:'index'});\r\n\t\t},\r\n\t\tenvioForm(){\r\n\t\t\tthis.msgError = false;\r\n        this.axios.post('api/login', {\r\n\t\t\t    numeroDocumento:this.rutLimpio,\r\n          password:this.password,\r\n\t\t\t}).then(response => {\r\n\r\n\t\t\t\tif(response.data.error == \"Unauthorized\"){\r\n\t\t\t\t\tthis.msgError = true;\r\n\t\t\t\t}\r\n\t\t\t\telse if(response.data.msg == \"accesoDenegado\"){\r\n\t\t\t\t\tthis.makeToast('danger',response.data.error);\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n          var token = 'Bearer '+ response.data.token.original.access_token;\r\n\t\t\t\t\tvar user = response.data.token.original.user;\t\r\n\t\t\t\t\tthis.setAccessToken(token);\r\n          router.push({name:'index'});    \r\n\t\t\t\t}\r\n\r\n      }).catch(error=>{ \r\n      })  \r\n\t\t},\r\n\t\tgteImagen(){\r\n\t\t\tthis.axios\r\n\t\t\t\t.get('api/imagenLogin')\r\n\t\t\t\t.then(res=>{\r\n\t\t\t\t\tthis.img = res.data.url;\r\n\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tvalidationRut(){\r\n\t\t\tlet rutSimple = this.rut.replace(/\\./g, \"\"); \r\n\t\t\tvar guion = rutSimple.replace(/\\-/g, \"\");\r\n\t\t\t\r\n\t\t\trut = rutSimple.split(\"-\");\r\n\t\t\tthis.rutLimpio = rut[0];\r\n\r\n\r\n\t\t\t// Divide el valor ingresado en dígito verificador y resto del RUT.\r\n\t\t\tlet cuerpo = guion.slice(0, -1);\r\n\t\t\tlet dv = guion.slice(-1).toUpperCase();\r\n\r\n\t\t  \r\n\t\t\t// Formatear RUN\r\n\t\t\tvar rut = cuerpo + '-'+ dv;\r\n\r\n\t\t\t // Calcular Dígito Verificador\r\n\t\t\tvar suma = 0;\r\n\t\t\tvar multiplo = 2;\r\n\t\t\t\r\n\t\t\t\r\n    \t\tif(cuerpo.length < 7) { \r\n\t\t\t\tthis.rutInValido = true; \r\n\t\t\t\t//console.log(\"RUT Incompleto\"); \r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t// Para cada dígito del Cuerpo\r\n\t\t\tfor(var i=1;i<=cuerpo.length;i++) {\r\n\t\t\t\r\n\t\t\t\t// Obtener su Producto con el Múltiplo Correspondiente\r\n\t\t\t\tvar index = multiplo * rutSimple.charAt(cuerpo.length - i);\r\n\t\t\t\t\r\n\t\t\t\t// Sumar al Contador General\r\n\t\t\t\tsuma = suma + index;\r\n\t\t\t\t\r\n\t\t\t\t// Consolidar Múltiplo dentro del rango [2,7]\r\n\t\t\t\tif(multiplo < 7) { multiplo = multiplo + 1; } else { multiplo = 2; }\r\n\t\t\r\n\t\t\t}\r\n\r\n\t\t\t// Calcular Dígito Verificador en base al Módulo 11\r\n\t\t\tvar dvEsperado = 11 - (suma % 11);\r\n\t\t\t// Casos Especiales (0 y K)\r\n\t\t\tdv = (dv == 'K')?10:dv;\r\n\t\t\tdv = (dv == 0)?11:dv;\r\n\r\n\t\t\t\r\n    \t\tif(dvEsperado != dv) { \r\n\t\t\t\t//console.log(\"RUT Inválido\");\r\n\t\t\t\tthis.rutInValido = true; \r\n\t\t\t\treturn false; \r\n\t\t\t}else{\r\n\t\t\t\tthis.rutInValido = false\r\n\t\t\t\t//console.log(\"valido\");\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t},\r\n\tcreated(){\r\n\t\tthis.gteImagen();\r\n\t}\r\n\r\n}\r\n</script>\r\n<style scoped>\r\n.slick-slider .slide-img-bg{\r\n    opacity: .8 !important;\r\n}\r\n\r\n.slick-slider .slide-img-bg {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-size: cover;\r\n    opacity: .4;\r\n    z-index: 10;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=4df8c3d2&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=4df8c3d2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4df8c3d2\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=4df8c3d2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=4df8c3d2&scoped=true&lang=css&\""],"sourceRoot":""}